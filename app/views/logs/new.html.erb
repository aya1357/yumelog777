<%= form_with model: @form, url: log_path, local: true do |f| %>
  <div class="flex-wrap">
    <% @studies.each do |study| %>
      <%= f.fields_for :logs do |f| %>
        <% if params["date"].present? %>
          <%= f.date_field :log_date, value: (params["date"]).to_date, class: "flex-1 py-2 border-b-2 focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500", readonly: true %>
        <% else %>
          <%= f.date_field :log_date, value: '', class: "flex-1 py-2 border-b-2 focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" %>
        <% end %>
        <%= f.hidden_field :user_id, :value => current_user.id %>
        <%= f.hidden_field :study_id, :value => study.id %>
        <div class="flex">
          <%= f.number_field :study_number, in: 0..5000, placeholder: "例) 5", id: ("input_#{study.id}"), class: "mr-3 float-left bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 float-left py-3 px-6" %>
          <span class="block pt-3">ページ</span>
        </div>
      <% end %>
    <% end %>
  </div>
  <%= f.submit (t 'defaults.register'), class: "py-3 px-8 bg-blue-600 text-white font-bold mt-6 rounded-lg hover:bg-blue-700" %>
<% end %>
